SourceSplit
===========

SourceSplit is a [LiveSplit](https://www.livesplit.org/) Auto-Splitter which adds automated timer function support for Source Engine games and mods; along with related features.

This is 2838's fork of the project, featuring many improvements, fixes, and support for many more games and mods.

Features
--------  
* Main Features 
    * Keeps track of various forms of Game Time, with options to turn on or off each of which.
    * Auto-Splits on changelevel loads and/or generic map loads, configurable with a map transition blacklist or whitelist
    * For Games that support them:
        * Auto-Start, Stop and Resetting.
    	* Auto-Splits on special pre-determined game events. 
    	* Interoperation with demo recording.
* Additional Features  
    * Custom Auto-Start point based on map name or save name.
    * Displaying additional information on LiveSplit.
    * Printing information of Demos which have just finished recording to the Console.

Installation
-------
There are two ways to install SourceSplit:  

Through the Splits Editor:
* Open the Splits Editor
* Enter the name of your game/mod into the *Game Name* field. An option to activate the splitter will now be available. 
* If the splitter is not accrediting both fatalis and 2838, then this fork of SourceSplit does not fully that game/mod. In this case, enter `Source Engine` insead.

Or through the Layout Editor:  
* Download a build from the *Releases* section of this page, then move `LiveSplit.SourceSplit.dll` to `<LiveSplit's root folder>/Components`  
* Open the Layout Editor, then click on *+*, hover over *Control* and click on *SourceSplit*. If SourceSplit is already loaded in the Splits Editor, a warning will pop up.

Configuring
---------------------
Information on configuring SourceSplit can be found [here](CONFIGURING.md).


Fully Supported Games and Mods
---------------------
* Half-Life 2
* Half-Life 2: Episode One
* Half-Life 2: Episode Two
* Half-Life 2: Lost Coast
* Half-Life 2: Survivor
* Half-Life Source
* Portal
* Portal RTX
* Infra
* Hunt Down The Freeman
* Black Mesa
* Estranged: Act I
* Transmissions: Element 120
* The Beginner's Guide
* The Stanley Parable
* Prospekt
* Synergy
* SiN Episodes
* The following Portal mod(s): [Elevators](https://www.moddb.com/mods/portal-elevators) • [The Flash Version Mappack](https://portalmaps.wecreatestuff.com/) • [Reversed Map Order](https://www.speedrun.com/portal_reversed_map_order/resources) • [Still Alive](https://www.moddb.com/mods/portal-still-alive-pc) • [Portal Pro](https://www.moddb.com/mods/portal-pro) • [Rexaura](https://store.steampowered.com/app/317790/Rexaura/) • [Canonical Base of ℝxℝxℝ](https://www.moddb.com/mods/portal-canonical-base-of-xx) • [Portal Prelude](http://www.portalprelude.com/) • [ERROR](https://www.moddb.com/mods/error2) • [Epic Edition](https://www.moddb.com/mods/portal-epic-edition) • [Portal: Crumbs of Truth](https://www.moddb.com/mods/portal-crumbs-of-truth)
* The following Half-Life 2 related mod(s): [Map Labs mapping challenges](https://www.moddb.com/mods/map-labs/downloads) • [RunThinkShootLive mapping challenges](https://www.runthinkshootlive.com/mc-table/) • [1187: Episode One](https://www.moddb.com/mods/1187) • [Too Many Crates!](https://www.moddb.com/mods/too-many-crates) • [Da Baby](https://drive.google.com/file/d/1AEB1oOUM_vgkyjuzXgp3rlG2_YHhjV1_/view?usp=sharing) • [Dank Memes](https://www.moddb.com/mods/dank-memes) • [DayHard](https://www.moddb.com/mods/dayhard) • [Dear Esther](https://www.moddb.com/mods/dear-esther) • [Deep Down](https://www.moddb.com/mods/half-life-2-deep-down) • [Deeper Down](https://www.moddb.com/mods/half-life-2-deeper-down) • [Downfall](https://store.steampowered.com/app/587650/HalfLife_2_DownFall/) • [Entropy Zero](https://store.steampowered.com/app/714070/Entropy__Zero/) • [Exit 2](https://www.moddb.com/mods/exit-2) • [Gordon Freakman 1](https://www.moddb.com/mods/gordon-freakman) • [Gordon Freakman 2: Kleiner-Life](https://www.moddb.com/mods/gordon-freakman-2-kleiner-life) • [Get A Life](https://www.moddb.com/mods/get-a-life) • [Grey](https://www.moddb.com/mods/grey) • [ICE](https://www.moddb.com/mods/ice-a-half-life-2-expansion-pack) • [Kill The Monk](https://www.moddb.com/mods/kill-the-monk) • [Logistique: Act 1](https://store.steampowered.com/app/1154130/Logistique_Act_1/) • [Mission Improbable](https://www.runthinkshootlive.com/posts/mission-improbable/) • [The PTSD Mod](https://www.moddb.com/mods/the-ptsd-mod) • [Sniper's Episode](https://www.speedrun.com/patches/Snipers_Episode_ptqds.zip) • [Terminal 7](https://www.moddb.com/mods/terminal-7) • [The Citizen](https://www.moddb.com/mods/the-citizen) • [The Citizen 2](https://www.moddb.com/mods/the-citizen-part-ii) • [The Citizen Returns](https://www.moddb.com/mods/the-citizen-returns) • [The Lost City](https://www.moddb.com/mods/the-lost-city) • [Uncertainty Principle](https://www.moddb.com/mods/uncertainty-principle) • [Watching Paint Dry: The Game](https://www.moddb.com/mods/watching-paint-dry-the-game) • [Year Long Alarm](https://store.steampowered.com/app/747250/HalfLife_2_Year_Long_Alarm/) • [Backwards Mod](https://drive.google.com/file/d/1Eb2irBuVacM-jLbBKPDi-vZSUUxCvvQt/view) • [Reject](https://www.runthinkshootlive.com/posts/reject/) • [School Adventures](https://www.moddb.com/mods/school-adventures) • [Cutsceneless Mod](https://mega.nz/#F!yjgQiYKL!CeObY9822otooK31Y6A2FQ) • [Experimental Fuel](https://www.runthinkshootlive.com/posts/experimental-fuel/) • [Tinje](https://www.runthinkshootlive.com/posts/tinje/) • [Dark Intervention](https://www.runthinkshootlive.com/posts/dark-intervention/) • [Hells Mines](https://www.runthinkshootlive.com/posts/hells-mines/) • [Upmine Struggle](https://www.runthinkshootlive.com/posts/upmine-struggle/) • [The Stanley Parable (mod)](https://www.moddb.com/mods/the-stanley-parable) • [Black Mesa (mod)](https://www.moddb.com/mods/black-mesa) • [Precursor](https://www.moddb.com/mods/precursor) • [Genry's Great Escape From City 13](https://store.steampowered.com/app/1341060/HalfLife_2_Genrys_Great_Escape_From_City_13/) • [Offshore](https://www.moddb.com/mods/offshore) • [Hangover](https://www.moddb.com/mods/hangover) • [Dangerous World](https://www.moddb.com/mods/dangerous-world) • [Very Hard Mod](https://www.moddb.com/addons/very-hard-mod-steampipe-fixed) • [Episode 3: The Closure](https://www.runthinkshootlive.com/posts/episode-3-the-closure/) • [Dark Evening](https://www.runthinkshootlive.com/posts/dark-evening/) • [Entropy Zero: 2](https://store.steampowered.com/app/1583720/Entropy__Zero_2/) • AJB Trajectory [1](https://www.runthinkshootlive.com/posts/a2b-trajectory/), [2](https://www.runthinkshootlive.com/posts/a2b-trajectory-2/), and [3](https://www.runthinkshootlive.com/posts/a2b-trajectory-3/) • [Forest Train](https://www.runthinkshootlive.com/posts/forest-train/) • [Local Motive](https://www.moddb.com/mods/local-motive-definitive-edition) • [MINERVA](https://store.steampowered.com/app/235780/MINERVA/) • [Evacuation](https://store.steampowered.com/app/2224920/Evacuation/) • [Amalgam](https://store.steampowered.com/app/1389950/Amalgam/) • [Avenue Odessa](https://www.runthinkshootlive.com/posts/avenue-odessa/) • [City 17 is Far Away](https://www.runthinkshootlive.com/posts/city-17-is-far-away/) • [Clone Machine](https://www.moddb.com/mods/clone-machine/downloads/clone-machine-10) • [Dark 17](https://www.moddb.com/mods/dark-17) • [Jolly's Hardcore Mod](https://www.moddb.com/mods/jollys-hardcore-mod) • [Sebastian](https://www.moddb.com/mods/sebastian1) • the [Nightmare House](https://nh2.wecreatestuff.com/) series • [NEOTOKYO° Kshatriya (Demo)](https://www.moddb.com/games/neotokyo-kshatriya) • [Uzvara](https://www.moddb.com/mods/uzvara) • [Aberration](https://www.moddb.com/mods/aberration/downloads) • [Awakening](https://www.moddb.com/mods/awakening/) • [Call-In](https://www.moddb.com/mods/call-in) • [Combine Destiny](https://www.moddb.com/mods/combine-destiny)
* The following Black Mesa related mod(s): [Hazard Course](https://www.moddb.com/mods/black-mesa-hazard-course) • [Further Data](https://steamcommunity.com/sharedfiles/filedetails/?id=2316239201)
* (more soon)

Technical Information
---------------------
#### How It Works  
SourceSplit heavily relies on external memory reading using Window's ReadProcessMemory function. Necessary pointers and offsets are enumerated through heavy use of [Signature Scanning](https://wiki.alliedmods.net/Signature_scanning). This allows the component to achieve a high compatibility rate.

#### Timing Accuracy
SourceSplit attempts to find the [`host_tickcount` variable](https://github.com/VSES/SourceEngine2007/blob/43a5c90a5ada1e69ca044595383be67f40b33c61/src_main/engine/host.cpp#L2646) that the Source engine uses to track how many updates its main update loop has done. This allows SourceSplit to accurately measure time while avoiding the effects of Save/Load or Pause abuse, and also react to changes to game speed (e.g. lag, or host_tickcount or host_framerate). Ticks may only be lost due to slow polling rates or other low level problems.  

SourceSplit can also piggy back off the recording information for the current Demo. This allows SourceSplit to match Demo time near-perfectly, even under extreme conditions such as save/load abuse or [long sessions with many loads](https://www.youtube.com/watch?v=_jXgA-HVME8).

tl;dr The timing is very accurate and should never be more than a few ticks off.

Credits
---------------------
* Fatalis for the original version.
* 2838 for current maintenece and development.
